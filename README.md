# 알고리즘 동아리 Discord 봇

알고리즘 동아리 관리를 위한 Discord 봇입니다.

## 주요 기능

### 역할 관리
- 역할 생성 및 토큰 기반 등록
- 역할별 접근 제어

### 스터디 관리
- 스터디별 과제 설정 및 관리
- 제출 현황 확인

### 과제 관리
- **블로그**: Tistory 블로그 링크 제출
- **문제풀이**: 백준 문제풀이 인증 (난이도 제한, 시간 제한)
- **모의테스트**: BOJ 그룹 연습 기능 연동

### 채널 관리
- 그룹 카테고리 및 채널 자동 생성
- 공지 채널, 포럼 채널 생성

## 설치 및 실행

### 1. 패키지 설치
```bash
pip install -r requirements.txt
```

### 2. 환경변수 설정
`env_example.txt`를 `.env`로 복사하고 Discord 봇 토큰을 입력하세요.

```bash
# Windows
Copy-Item env_example.txt .env

# Linux/Mac
cp env_example.txt .env
```

`.env` 파일:
```
DISCORD_BOT_TOKEN=your_bot_token_here
```

### 3. 봇 실행
```bash
python main.py
```

## 명령어 목록

### 유저 관리
- `/유저등록 [BOJ핸들]` - 유저 등록
- `/내정보` - 내 정보 확인

### 역할 관리
- `/역할 등록 <토큰>` - 토큰으로 역할 등록
- `/역할 생성 <이름>` - 역할 생성 및 토큰 생성 (관리자)
- `/역할 토큰 <이름>` - 역할의 토큰 확인 (관리자)
- `/역할 리스트` - 등록된 역할 목록 확인 (관리자)
- `/역할 삭제 <이름>` - 역할 삭제 (관리자)

### 과제 제출
- `/제출 블로그 <링크>` - 블로그 링크 제출
- `/제출 문제풀이 <문제번호>` - 문제풀이 제출
- `/제출 모의테스트` - 모의테스트 제출

### 과제 관리 (관리자)
- `/과제 생성 <종류> <스터디이름> [옵션]` - 과제 생성
  - 블로그: `이름:<이름> 개수:<개수>`
  - 문제풀이: `이름:<이름> 기간:<일수> 난이도:<티어> 문제:<번호목록>`
  - 모의테스트: `이름:<이름> 그룹ID:<BOJ그룹ID>`
- `/과제 수정 <과제ID> [옵션]` - 과제 수정
- `/과제 삭제 <과제ID>` - 과제 삭제
- `/과제 목록 [스터디이름]` - 과제 목록 확인

### 스터디 관리 (관리자)
- `/스터디 제출현황 <스터디이름>` - 스터디 제출 현황 확인

### 그룹/채널 관리 (관리자)
- `/그룹 생성 <이름> <역할>` - 그룹 카테고리 및 채널 자동 생성
- `/채널 공지 <이름> [역할]` - 공지 채널 생성
- `/채널 포럼 <이름> [역할]` - 포럼 채널 생성

### 도움말
- `/도움말`, `/명령어` - 명령어 도움말

## 프로젝트 구조

```
discord_bot/
├── main.py                 # 봇 초기화 및 실행
├── domain/                 # 도메인별 기능
│   ├── role.py            # 역할 관리
│   ├── channel.py         # 채널 관리
│   ├── submission.py      # 제출 관리
│   ├── assignment.py       # 과제 관리
│   ├── study.py           # 스터디 관리
│   └── user.py            # 유저 관리
├── common/                 # 공통 기능
│   ├── utils.py           # 공통 유틸리티
│   ├── database.py        # SQLite 데이터베이스
│   ├── boj_utils.py       # 백준 관련 유틸리티
│   ├── help.py            # 도움말
│   └── config.py          # 설정
└── requirements.txt        # 패키지 목록
```

## 데이터 저장

- **SQLite 데이터베이스** (기본): `bot_data.db` 파일에 저장
- **JSON 파일** (대체): SQLite가 없을 경우 `data.json` 사용
